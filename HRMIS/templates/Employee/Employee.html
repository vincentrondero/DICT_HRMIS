{% extends "base.html" %}
{% load static %}
{% block main_js %}<script src ={% static "js/employee.js" %}> </script>{% endblock main_js %}
{% block  content%}


<div class="flex-1 bg-blue-500 shadow-custom rounded-md m-auto md:w-3/4">
    <div class="h-40 w-40 overflow-hidden sm:rounded-full sm:relative sm:p-0 top-20 left-5 border-8 border-white bg-white">
        {% if user_profile.profile_picture %}
            <img src="data:image/png;base64,{{ user_profile.profile_picture }}" alt="User Image">
        {% else %}
            <img src="{% static 'images/DICT Logo.png' %}" alt="Image Description">
        {% endif %}
    </div>    
       
    <div class="flex-1 bg-white shadow-custom rounded-bl-md rounded-br-md px-3 pb-10 pt-2 flex flex-col">
        <div class="flex items-center"> 
            <h2 class="text-xl font-semibold text-gray-800 ml-44 border-b border-black">{{ user_name }}</h2>
            <div class=""> 
                <button id="open-modal-btn" class="bg-white rounded-xl mx-4 md:w-1/3 transform">
                    <svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" fill="currentColor" class="text-lg" viewBox="0 0 24 24">
                        <path d="M7 17.013L11.413 16.998L21.045 7.45799C21.423 7.07999 21.631 6.57799 21.631 6.04399C21.631 5.50999 21.423 5.00799 21.045 4.62999L19.459 3.04399C18.703 2.28799 17.384 2.29199 16.634 3.04099L7 12.583V17.013ZM18.045 4.45799L19.634 6.04099L18.037 7.62299L16.451 6.03799L18.045 4.45799ZM9 13.417L15.03 7.44399L16.616 9.02999L10.587 15.001L9 15.006V13.417Z" fill="#0F5FC2" fill-opacity="0.760784"/>
                        <path d="M5 21H19C20.103 21 21 20.103 21 19V10.332L19 12.332V19H8.158C8.132 19 8.105 19.01 8.079 19.01C8.046 19.01 8.013 19.001 7.979 19H5V5H11.847L13.847 3H5C3.897 3 3 3.897 3 5V19C3 20.103 3.897 21 5 21Z" fill="#0F5FC2" fill-opacity="0.760784"/>
                    </svg>
                </button>
            </div>
            <div class="ml-auto"> 
                <button id="logoutButton" data-logout-url="{% url 'login_user' %}" type="button" class="inline-flex items-center justify-center h-7 px-4 rounded-xl bg-gray-900 text-gray-300 hover:text-white text-sm font-semibold transition">
                    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" class="" viewBox="0 0 16 16">
                        <path d="M12 1a1 1 0 0 1 1 1v13h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3V2a1 1 0 0 1 1-1h8zm-2 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                    </svg>
                    <span class="font-bold text-sm ml-2">Logout</span>
                </button>
            </div>
        </div>
        <div class="flex items-center ml-44">
            {% if user_role == 'JO' %}
                <h6 class="text-md text-gray-800">Job Order</h6>
            {% endif %}
        </div>
        <div id="logoutModal" class="modal">
            <div class="modal-content text-right">
                <p class="mt-10 font-semibold">Are you sure you want to log out?</p>
                <button id="cancelLogout" class="bg-transparent hover:bg-blue-500 text-blue-500 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded mt-1 ml-auto">Cancel</button>
                <button id="confirmLogout" class="bg-red-400 hover:bg-red-500 hover:text-white text-gray-200 font-bold py-2 px-4 rounded mt-10 ml-auto">Log out</button>
            </div>
        </div>
    </div>
</div>

<div class="flex space-x-3 mx-auto md:w-3/4">
    <div class="bg-white shadow-custom rounded-xl my-4 md:w-1/3">
        <div class="flex items-center justify-center">
            <button class="bg-white rounded-md cursor-pointer px-10" onclick="openPayrollModal()">
                <svg width="130" height="150" viewBox="0 0 150 150" fill="none" xmlns="http://www.w3.org/2000/svg">
                   <path d="M42.2344 60.9375C42.2344 58.9981 43.0196 57.1381 44.4173 55.7668C45.8151 54.3954 47.7108 53.625 49.6875 53.625H109.312C111.289 53.625 113.185 54.3954 114.583 55.7668C115.98 57.1381 116.766 58.9981 116.766 60.9375C116.766 62.8769 115.98 64.7369 114.583 66.1082C113.185 67.4796 111.289 68.25 109.312 68.25H49.6875C47.7108 68.25 45.8151 67.4796 44.4173 66.1082C43.0196 64.7369 42.2344 62.8769 42.2344 60.9375ZM49.6875 92.625H109.312C111.289 92.625 113.185 91.8546 114.583 90.4832C115.98 89.1118 116.766 87.2519 116.766 85.3125C116.766 83.3731 115.98 81.5131 114.583 80.1418C113.185 78.7704 111.289 78 109.312 78H49.6875C47.7108 78 45.8151 78.7704 44.4173 80.1418C43.0196 81.5131 42.2344 83.3731 42.2344 85.3125C42.2344 87.2519 43.0196 89.1118 44.4173 90.4832C45.8151 91.8546 47.7108 92.625 49.6875 92.625ZM146.578 34.125V126.75C146.578 127.997 146.253 129.222 145.634 130.311C145.015 131.4 144.123 132.315 143.042 132.97C141.961 133.625 140.727 133.999 139.458 134.054C138.189 134.11 136.926 133.846 135.79 133.289L119.25 125.178L102.71 133.289C101.675 133.797 100.533 134.062 99.375 134.062C98.2171 134.062 97.0752 133.797 96.0397 133.289L79.5 125.178L62.9603 133.289C61.9248 133.797 60.7829 134.062 59.625 134.062C58.4671 134.062 57.3252 133.797 56.2897 133.289L39.75 125.178L23.2103 133.289C22.074 133.846 20.8113 134.11 19.542 134.054C18.2727 133.999 17.039 133.625 15.958 132.97C14.8771 132.315 13.9848 131.4 13.3659 130.311C12.747 129.222 12.422 127.997 12.4219 126.75V34.125C12.4219 30.8927 13.7306 27.7927 16.0602 25.5071C18.3897 23.2215 21.5493 21.9375 24.8438 21.9375H134.156C137.451 21.9375 140.61 23.2215 142.94 25.5071C145.269 27.7927 146.578 30.8927 146.578 34.125ZM131.672 36.5625H27.3281V114.916L36.4147 110.461C37.4502 109.953 38.5921 109.688 39.75 109.688C40.9079 109.688 42.0498 109.953 43.0853 110.461L59.625 118.572L76.1647 110.461C77.2002 109.953 78.3421 109.688 79.5 109.688C80.6579 109.688 81.7998 109.953 82.8353 110.461L99.375 118.572L115.915 110.461C116.95 109.953 118.092 109.688 119.25 109.688C120.408 109.688 121.55 109.953 122.585 110.461L131.672 114.916V36.5625Z" fill="#0F5FC2" fill-opacity="0.760784"/>
                </svg> 
            </button>
        </div>
        <h2 class="text-xl font-semibold text-gray-800 flex justify-center pb-3">Payroll</h2>
    </div>
    
    <div class="bg-white shadow-custom rounded-xl my-4 md:w-1/3">
        <div class="flex items-center justify-center">
            <button class="bg-white rounded-md cursor-pointer px-10">
                <svg width="130" height="150" viewBox="0 0 150 150" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M109.688 24.375C106.26 24.3733 102.88 25.1745 99.8186 26.7146C96.7569 28.2547 94.0985 30.4907 92.0568 33.2434C90.015 35.9961 88.6466 39.1888 88.0612 42.5657C87.4759 45.9426 87.6899 49.4097 88.6861 52.689L89.9536 56.8815L86.8628 59.982L25.8863 120.949C24.671 122.164 23.9882 123.812 23.9882 125.531C23.9882 127.25 24.671 128.898 25.8863 130.114C27.1017 131.329 28.7501 132.012 30.4688 132.012C32.1876 132.012 33.836 131.329 35.0513 130.114L96.0181 69.1275L99.1186 66.027L103.311 67.2945C107.384 68.5352 111.731 68.5637 115.82 67.3764C119.909 66.1891 123.565 63.8373 126.34 60.608C129.116 57.3787 130.891 53.4115 131.451 49.1902C132.01 44.9689 131.329 40.6761 129.49 36.8355L114.865 51.4702C114.191 52.169 113.384 52.7264 112.492 53.1101C111.6 53.4937 110.641 53.6959 109.67 53.7048C108.699 53.7137 107.736 53.5291 106.837 53.1619C105.938 52.7946 105.121 52.252 104.434 51.5658C103.747 50.8795 103.204 50.0633 102.836 49.1648C102.468 48.2663 102.282 47.3035 102.29 46.3325C102.298 45.3616 102.5 44.402 102.882 43.5096C103.265 42.6173 103.822 41.8101 104.52 41.1352L119.145 26.5102C116.193 25.0958 112.961 24.3725 109.688 24.375ZM73.1251 46.3125C73.1257 38.8157 75.4309 31.5003 79.7282 25.3574C84.0255 19.2145 90.1072 14.541 97.1494 11.9702C104.192 9.39938 111.854 9.05544 119.098 10.985C126.342 12.9145 132.818 17.0243 137.649 22.7575C142.479 28.4907 145.43 35.5701 146.103 43.0367C146.775 50.5033 145.136 57.9961 141.407 64.4999C137.679 71.0038 132.041 76.2043 125.258 79.397C118.475 82.5896 110.875 83.62 103.487 82.3485L98.0948 87.75L107.25 96.915L111.833 92.3325L117 87.165L122.168 92.3325L140.449 110.614C142.457 112.562 144.058 114.89 145.159 117.462C146.259 120.035 146.837 122.8 146.858 125.598C146.879 128.396 146.344 131.17 145.283 133.759C144.222 136.348 142.657 138.7 140.679 140.679C138.7 142.657 136.348 144.222 133.759 145.283C131.17 146.344 128.396 146.879 125.598 146.858C122.8 146.836 120.035 146.259 117.462 145.158C114.89 144.058 112.562 142.457 110.614 140.449L92.3326 122.167L87.1651 117L92.3326 111.832L96.9151 107.25L87.7501 98.085L45.3863 140.449C43.4384 142.457 41.1105 144.058 38.538 145.158C35.9655 146.259 33.1998 146.836 30.402 146.858C27.6042 146.879 24.83 146.344 22.241 145.283C19.652 144.222 17.2998 142.657 15.3214 140.679C13.3429 138.7 11.7778 136.348 10.7169 133.759C9.6561 131.17 9.12082 128.396 9.14222 125.598C9.16362 122.8 9.74129 120.035 10.8416 117.462C11.9419 114.89 13.5429 112.562 15.5513 110.614L57.9053 68.25L34.1251 44.46L28.1093 50.4757L23.1661 43.056L13.4161 28.431L10.0913 23.439L14.3326 19.2075L19.2076 14.3325L23.4391 10.0912L28.4311 13.416L43.0561 23.166L50.4758 28.1092L44.4698 34.125L68.2501 57.915L73.6516 52.5135C73.3011 50.4651 73.1249 48.3907 73.1251 46.3125ZM117 107.835L130.114 120.949C131.329 122.164 132.012 123.812 132.012 125.531C132.012 127.25 131.329 128.898 130.114 130.114C128.898 131.329 127.25 132.012 125.531 132.012C123.813 132.012 122.164 131.329 120.949 130.114L107.845 117L117 107.835Z" fill="#0F5FC2" fill-opacity="0.760784"/>
                </svg> 
            </button>
        </div>
        <h2 class="text-xl font-semibold text-gray-800 flex justify-center pb-3">Coming Soon</h2>
    </div>
    
    <div class="bg-white shadow-custom rounded-xl my-4 md:w-1/3">
        <div class="flex items-center justify-center">
            <button class="bg-white rounded-md cursor-pointer px-10">
                <svg width="130" height="150" viewBox="0 0 150 150" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M109.688 24.375C106.26 24.3733 102.88 25.1745 99.8186 26.7146C96.7569 28.2547 94.0985 30.4907 92.0568 33.2434C90.015 35.9961 88.6466 39.1888 88.0612 42.5657C87.4759 45.9426 87.6899 49.4097 88.6861 52.689L89.9536 56.8815L86.8628 59.982L25.8863 120.949C24.671 122.164 23.9882 123.812 23.9882 125.531C23.9882 127.25 24.671 128.898 25.8863 130.114C27.1017 131.329 28.7501 132.012 30.4688 132.012C32.1876 132.012 33.836 131.329 35.0513 130.114L96.0181 69.1275L99.1186 66.027L103.311 67.2945C107.384 68.5352 111.731 68.5637 115.82 67.3764C119.909 66.1891 123.565 63.8373 126.34 60.608C129.116 57.3787 130.891 53.4115 131.451 49.1902C132.01 44.9689 131.329 40.6761 129.49 36.8355L114.865 51.4702C114.191 52.169 113.384 52.7264 112.492 53.1101C111.6 53.4937 110.641 53.6959 109.67 53.7048C108.699 53.7137 107.736 53.5291 106.837 53.1619C105.938 52.7946 105.121 52.252 104.434 51.5658C103.747 50.8795 103.204 50.0633 102.836 49.1648C102.468 48.2663 102.282 47.3035 102.29 46.3325C102.298 45.3616 102.5 44.402 102.882 43.5096C103.265 42.6173 103.822 41.8101 104.52 41.1352L119.145 26.5102C116.193 25.0958 112.961 24.3725 109.688 24.375ZM73.1251 46.3125C73.1257 38.8157 75.4309 31.5003 79.7282 25.3574C84.0255 19.2145 90.1072 14.541 97.1494 11.9702C104.192 9.39938 111.854 9.05544 119.098 10.985C126.342 12.9145 132.818 17.0243 137.649 22.7575C142.479 28.4907 145.43 35.5701 146.103 43.0367C146.775 50.5033 145.136 57.9961 141.407 64.4999C137.679 71.0038 132.041 76.2043 125.258 79.397C118.475 82.5896 110.875 83.62 103.487 82.3485L98.0948 87.75L107.25 96.915L111.833 92.3325L117 87.165L122.168 92.3325L140.449 110.614C142.457 112.562 144.058 114.89 145.159 117.462C146.259 120.035 146.837 122.8 146.858 125.598C146.879 128.396 146.344 131.17 145.283 133.759C144.222 136.348 142.657 138.7 140.679 140.679C138.7 142.657 136.348 144.222 133.759 145.283C131.17 146.344 128.396 146.879 125.598 146.858C122.8 146.836 120.035 146.259 117.462 145.158C114.89 144.058 112.562 142.457 110.614 140.449L92.3326 122.167L87.1651 117L92.3326 111.832L96.9151 107.25L87.7501 98.085L45.3863 140.449C43.4384 142.457 41.1105 144.058 38.538 145.158C35.9655 146.259 33.1998 146.836 30.402 146.858C27.6042 146.879 24.83 146.344 22.241 145.283C19.652 144.222 17.2998 142.657 15.3214 140.679C13.3429 138.7 11.7778 136.348 10.7169 133.759C9.6561 131.17 9.12082 128.396 9.14222 125.598C9.16362 122.8 9.74129 120.035 10.8416 117.462C11.9419 114.89 13.5429 112.562 15.5513 110.614L57.9053 68.25L34.1251 44.46L28.1093 50.4757L23.1661 43.056L13.4161 28.431L10.0913 23.439L14.3326 19.2075L19.2076 14.3325L23.4391 10.0912L28.4311 13.416L43.0561 23.166L50.4758 28.1092L44.4698 34.125L68.2501 57.915L73.6516 52.5135C73.3011 50.4651 73.1249 48.3907 73.1251 46.3125ZM117 107.835L130.114 120.949C131.329 122.164 132.012 123.812 132.012 125.531C132.012 127.25 131.329 128.898 130.114 130.114C128.898 131.329 127.25 132.012 125.531 132.012C123.813 132.012 122.164 131.329 120.949 130.114L107.845 117L117 107.835Z" fill="#0F5FC2" fill-opacity="0.760784"/>
                </svg> 
            </button>
        </div>
        <h2 class="text-xl font-semibold text-gray-800 flex justify-center pb-3">Coming Soon</h2>
    </div>
</div>

<div id="profile-picture-modal" class="hidden fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center">
    <div class="bg-white p-4 mx-auto rounded-md w-96 max-h-96">
        <label for="file-upload" class="max-w-md bg-white shadow-custom rounded-md m-2 cursor-pointer">
            <div class="flex items-center justify-center border-4 border-dashed rounded-xl">
                <svg width="150" height="150" viewBox="0 0 150 150" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M77.75 92.1875H23.4375C20.875 92.1875 18.75 90.0625 18.75 87.5C18.75 84.9375 20.875 82.8125 23.4375 82.8125H77.75L67 72.0625C65.1875 70.25 65.1875 67.25 67 65.4375C68.8125 63.625 71.8125 63.625 73.625 65.4375L92.375 84.1875C92.8125 84.625 93.125 85.125 93.375 85.6875C93.875 86.8125 93.875 88.125 93.375 89.25C93.125 89.8125 92.8125 90.3125 92.375 90.75L73.625 109.5C72.6875 110.438 71.5 110.875 70.3125 110.875C69.125 110.875 67.9375 110.438 67 109.5C66.1283 108.618 65.6394 107.428 65.6394 106.188C65.6394 104.947 66.1283 103.757 67 102.875L77.75 92.125V92.1875ZM131.25 59.375V112.5C131.25 122 123.562 129.688 114.062 129.688H67.1875C57.6875 129.688 50 122 50 112.5V106.25C50 103.688 52.125 101.562 54.6875 101.562C57.25 101.562 59.375 103.688 59.375 106.25V112.5C59.375 116.812 62.875 120.312 67.1875 120.312H114.062C118.375 120.312 121.875 116.812 121.875 112.5V64.0625H92.1875C89.625 64.0625 87.5 61.9375 87.5 59.375V29.6875H67.1875C62.875 29.6875 59.375 33.1875 59.375 37.5V68.75C59.375 71.3125 57.25 73.4375 54.6875 73.4375C52.125 73.4375 50 71.3125 50 68.75V37.5C50 28 57.6875 20.3125 67.1875 20.3125H92.1875C93.4375 20.3125 94.625 20.8125 95.5 21.6875L129.875 56.0625C130.75 56.9375 131.25 58.125 131.25 59.375ZM96.875 54.6875H115.25L96.875 36.3125V54.6875Z" fill="#0F5FC2" fill-opacity="0.760784"/>
                </svg>
                <input id="file-upload" name="profile_picture" type="file" class="hidden" onchange="displayFileName()">
            </div>
            <h2 class="text-xl font-semibold text-gray-800 flex justify-center pb-3 truncate"  id="file-name-display">Upload Profile Picture</h2>
        </label>
        <div class="flex justify-end">
            <button id="cancel-btn" class="bg-transparent hover:bg-blue-500 text-blue-500 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" onclick="cancelUpload()">Cancel</button>
            <button id="upload-btn" class="bg-green-500 text-white px-4 py-2 rounded-md ml-2" data-user-id="{{ user.USER_pkID }}" onclick="openUploadModal()">Save Picture</button>
        </div>
    </div>
</div>


<div id="payrollModal" class="modal">
    <div class="modal-content">
        <div id="payrollDetailsContainer" class="grid grid-cols-3 gap-4"></div>
        <div class="text-right">
        <button onclick="closePayrollModal()" class="bg-transparent hover:bg-blue-500 text-blue-500 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded mt-10">Close</button>
        </div>
    </div>
</div>



{% endblock content%}
