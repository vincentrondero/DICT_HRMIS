{% extends "base.html" %}
{% block content %}
<div class="max-w-md bg-white shadow-custom rounded-xl m-2">
    <div class="flex items-center justify-center">
        <button  class="bg-white rounded-md cursor-pointer" onclick="openNewUserModal()">
            <svg width="150" height="150" viewBox="0 0 150 150" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M116.25 66.4583H103.333C101.504 66.4583 99.9709 65.8783 98.7352 64.7183C97.4995 63.5583 96.8795 62.1244 96.8752 60.4167C96.8752 58.7048 97.4952 57.271 98.7352 56.115C99.9752 54.959 101.508 54.379 103.333 54.375H116.25V42.2917C116.25 40.5799 116.87 39.146 118.11 37.99C119.35 36.834 120.883 36.254 122.708 36.25C124.538 36.25 126.073 36.83 127.313 37.99C128.553 39.15 129.171 40.5839 129.167 42.2917V54.375H142.083C143.913 54.375 145.448 54.955 146.688 56.115C147.928 57.275 148.546 58.7089 148.542 60.4167C148.542 62.1285 147.922 63.5644 146.682 64.7244C145.442 65.8844 143.909 66.4623 142.083 66.4583H129.167V78.5417C129.167 80.2535 128.547 81.6894 127.307 82.8494C126.067 84.0094 124.534 84.5873 122.708 84.5833C120.879 84.5833 119.346 84.0033 118.11 82.8433C116.874 81.6833 116.254 80.2494 116.25 78.5417V66.4583ZM58.1252 72.5C51.021 72.5 44.9394 70.1337 39.8804 65.401C34.8213 60.6684 32.2918 54.9792 32.2918 48.3333C32.2918 41.6875 34.8213 35.9983 39.8804 31.2656C44.9394 26.533 51.021 24.1667 58.1252 24.1667C65.2293 24.1667 71.3109 26.533 76.37 31.2656C81.429 35.9983 83.9585 41.6875 83.9585 48.3333C83.9585 54.9792 81.429 60.6684 76.37 65.401C71.3109 70.1337 65.2293 72.5 58.1252 72.5ZM6.4585 108.75V103.917C6.4585 100.493 7.40141 97.3473 9.28725 94.4796C11.1731 91.6118 13.6746 89.4207 16.7918 87.9062C23.4654 84.7847 30.2467 82.4446 37.1356 80.8858C44.0245 79.3271 51.021 78.5457 58.1252 78.5417C65.2293 78.5417 72.2259 79.323 79.1147 80.8858C86.0036 82.4486 92.7849 84.7887 99.4585 87.9062C102.58 89.4167 105.084 91.6078 106.97 94.4796C108.855 97.3514 109.796 100.497 109.792 103.917V108.75C109.792 112.073 108.528 114.919 106.001 117.287C103.473 119.655 100.432 120.837 96.8752 120.833H19.3752C15.8231 120.833 12.7834 119.651 10.256 117.287C7.72864 114.923 6.4628 112.077 6.4585 108.75ZM19.3752 108.75H96.8752V103.917C96.8752 102.809 96.5802 101.802 95.9904 100.896C95.4005 99.9896 94.6191 99.2847 93.646 98.7812C87.8335 96.0625 81.9672 94.0244 76.047 92.6671C70.1269 91.3097 64.1529 90.629 58.1252 90.625C52.0974 90.625 46.1234 91.3057 40.2033 92.6671C34.2831 94.0285 28.4168 96.0665 22.6043 98.7812C21.6356 99.2847 20.8541 99.9896 20.26 100.896C19.6658 101.802 19.3709 102.809 19.3752 103.917V108.75ZM58.1252 60.4167C61.6772 60.4167 64.7191 59.2345 67.2508 56.8702C69.7825 54.5059 71.0461 51.6603 71.0418 48.3333C71.0418 45.0104 69.7782 42.1668 67.2508 39.8025C64.7234 37.4382 61.6816 36.254 58.1252 36.25C54.5731 36.25 51.5334 37.4342 49.006 39.8025C46.4786 42.1708 45.2128 45.0144 45.2085 48.3333C45.2085 51.6562 46.4743 54.5019 49.006 56.8702C51.5377 59.2385 54.5774 60.4207 58.1252 60.4167Z" fill="#0F5FC2" fill-opacity="0.760784"/>
            </svg> 
        </button>
    </div>
    <h2 class="text-xl font-semibold text-gray-800 flex justify-center pb-3">New Employee</h2>
</div>
<button id="activeButton" class="bg-custom-blue text-white rounded-t-xl cursor-pointer ml-10 pr-10 pl-10" onclick="showTable('activeTable')">
    Active
 </button>
 <button id="archiveButton" class="bg-custom-bg rounded-t-xl cursor-pointer ml-1 pr-10 pl-10" onclick="showTable('archiveTable')">
     Archive
 </button>
<div  id="activeTable" class="table-container">
    <table class="shadow-custom" style="margin-left: 1%; width: 98%;">
        <thead class="bg-custom-blue text-white" >
            <tr>
                <th>Name</th>
                <th>Employee ID</th>
                <th>Role</th>
                <th>Salary Grade</th>
                <th>Date Joined</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody class="bg-white">
            {% for user in active_users %}
            <tr>
                <td  class="text-center align-middle w-60  pt-5">{{ user.name }}</td>
                <td  class="text-center align-middle pt-5">{{ user.username }}</td>
                <td  class="text-center align-middle pt-5">{{ user.role }}</td>
                <td  class="text-center align-middle pt-5">{{ user.salary_grade }}</td>
                <td  class="text-center align-middle pt-5">{{ user.date_created }}</td>
                <td class="text-center align-middle pt-5" >              
                    <button class="bg-custom-button1 text-white text-xs p-2 rounded-md" onclick="openEditModal('{{ user.USER_pkID }}')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" class="text-lg" viewBox="0 0 24 24">
                            <path d="M7 17.013L11.413 16.998L21.045 7.45799C21.423 7.07999 21.631 6.57799 21.631 6.04399C21.631 5.50999 21.423 5.00799 21.045 4.62999L19.459 3.04399C18.703 2.28799 17.384 2.29199 16.634 3.04099L7 12.583V17.013ZM18.045 4.45799L19.634 6.04099L18.037 7.62299L16.451 6.03799L18.045 4.45799ZM9 13.417L15.03 7.44399L16.616 9.02999L10.587 15.001L9 15.006V13.417Z" fill="#0F5FC2" fill-opacity="0.760784"/>
                            <path d="M5 21H19C20.103 21 21 20.103 21 19V10.332L19 12.332V19H8.158C8.132 19 8.105 19.01 8.079 19.01C8.046 19.01 8.013 19.001 7.979 19H5V5H11.847L13.847 3H5C3.897 3 3 3.897 3 5V19C3 20.103 3.897 21 5 21Z" fill="#0F5FC2" fill-opacity="0.760784"/>
                        </svg>
                    </button>
                    <button class="bg-custom-button2 p-2 rounded-md archive-button"  data-user-id="{{ user.USER_pkID }}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"  viewBox="0 0 24 24"  class="text-lg" fill="none" viewBox="0 0 24 24">
                            <path d="M21 3H3C2.44772 3 2 3.44772 2 4V7C2 7.55228 2.44772 8 3 8H21C21.5523 8 22 7.55228 22 7V4C22 3.44772 21.5523 3 21 3Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M4 8V19C4 19.5304 4.21071 20.0391 4.58579 20.4142C4.96086 20.7893 5.46957 21 6 21H18C18.5304 21 19.0391 20.7893 19.4142 20.4142C19.7893 20.0391 20 19.5304 20 19V8M9.5 17L14.5 12M9.5 12L14.5 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>   
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div id="archiveTable" class="hidden table-container">
    <table class="shadow-custom" style="margin-left: 1%; width: 98%;">
        <thead class="bg-custom-blue text-white" >
            <tr>
                <th>Name</th>
                <th>Employee ID</th>
                <th>Role</th>
                <th>Salary Grade</th>
                <th>Date Joined</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody class="bg-white">
            {% for user in archive_users %}
            <tr>
                <td  class="text-center align-middle w-60 pt-5">{{ user.name }}</td>
                <td  class="text-center align-middle pt-5" >{{ user.username }}</td>
                <td  class="text-center align-middle pt-5">{{ user.role }}</td>
                <td  class="text-center align-middle pt-5">{{ user.salary_grade }}</td>
                <td  class="text-center align-middle pt-5">{{ user.date_created }}</td>
                <td class="text-center align-middle  pt-5" >              
                    <button class="bg-custom-button1 text-white text-xs p-2 rounded-md" onclick="openEditModal('{{ user.USER_pkID }}')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" class="text-lg" viewBox="0 0 24 24">
                            <path d="M7 17.013L11.413 16.998L21.045 7.45799C21.423 7.07999 21.631 6.57799 21.631 6.04399C21.631 5.50999 21.423 5.00799 21.045 4.62999L19.459 3.04399C18.703 2.28799 17.384 2.29199 16.634 3.04099L7 12.583V17.013ZM18.045 4.45799L19.634 6.04099L18.037 7.62299L16.451 6.03799L18.045 4.45799ZM9 13.417L15.03 7.44399L16.616 9.02999L10.587 15.001L9 15.006V13.417Z" fill="#0F5FC2" fill-opacity="0.760784"/>
                            <path d="M5 21H19C20.103 21 21 20.103 21 19V10.332L19 12.332V19H8.158C8.132 19 8.105 19.01 8.079 19.01C8.046 19.01 8.013 19.001 7.979 19H5V5H11.847L13.847 3H5C3.897 3 3 3.897 3 5V19C3 20.103 3.897 21 5 21Z" fill="#0F5FC2" fill-opacity="0.760784"/>
                        </svg>
                    </button>
                    <button class="bg-green-400 p-2 rounded-md"  data-user-id="{{ user.USER_pkID }}"  onclick="openUnarchiveModal('{{ user.USER_pkID }}')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"  viewBox="0 0 24 24"  class="text-lg" fill="none" viewBox="0 0 24 24">
                            <path d="M12 21V12M12 12L15 15.333M12 12L9 15.333" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M20.5 7V13C20.5 16.771 20.5 18.657 19.328 19.828C18.157 21 16.271 21 12.5 21H11.5C7.729 21 5.843 21 4.672 19.828C3.5 18.657 3.5 16.771 3.5 13V7" stroke="white" stroke-width="1.5" stroke-linecap="round"/>
                            <path d="M2 5C2 4.057 2 3.586 2.293 3.293C2.586 3 3.057 3 4 3H20C20.943 3 21.414 3 21.707 3.293C22 3.586 22 4.057 22 5C22 5.943 22 6.414 21.707 6.707C21.414 7 20.943 7 20 7H4C3.057 7 2.586 7 2.293 6.707C2 6.414 2 5.943 2 5Z" stroke="white" stroke-width="1.5"/>
                        </svg>
                    </button>   
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div id="newUserModal" class="fixed inset-0 bg-black bg-opacity-50 hidden">
    <div class="bg-white p-4 mx-auto mt-20 rounded-md w-96">
        <div class="mb-4">
            <h2 class="text-xl font-semibold text-gray-800">Create New User</h2>
        </div>
        <div id="newUserForm">
            <div class="mb-4">
                <label for="newUsernameInput">Username:</label>
                <input type="text" id="newUsernameInput" name="newUsernameInput" class="w-full p-2 border rounded-md" />
            </div>
            <div class="mb-4">
                <label for="newPasswordInput">Password:</label>
                <input type="password" id="newPasswordInput" name="newPasswordInput" class="w-full p-2 border rounded-md" />
            </div>
            <div class="mb-4">
                <label for="newNameInput">Name:</label>
                <input type="text" id="newNameInput" name="newNameInput" class="w-full p-2 border rounded-md" />
            </div>
            <div class="mb-4">
                <label for="newRoleInput">Role:</label>
                <input type="text" id="newRoleInput" name="newRoleInput" class="w-full p-2 border rounded-md" />
            </div>
            <div class="mb-4">
                <label for="newSalaryInput">Salary:</label>
                <input type="text" id="newSalaryInput" name="newSalaryInput" class="w-full p-2 border rounded-md" />
            </div>
        </div>
        <div class="flex justify-end">
            <button class="bg-blue-500 text-white px-4 py-2 rounded-md" onclick="closeNewUserModal()">Close</button>
            <button class="bg-green-500 text-white px-4 py-2 rounded-md ml-2" onclick="saveNewUser()">Save User</button>
        </div>
    </div>
</div>

<div id="editModal" class="fixed inset-0 bg-black bg-opacity-50 hidden">
    <div class="bg-white p-4 mx-auto mt-20 rounded-md w-96">
        <div class="mb-4">
            <h2 class="text-xl font-semibold text-gray-800">Edit User</h2>
        </div>
        <div class="mb-4">
            <label for="usernameInput">Username:</label>
            <input type="text" id="usernameInput" name="usernameInput" class="w-full p-2 border rounded-md" />
        </div>
        <div class="mb-4">
            <label for="nameInput">Name:</label>
            <input type="text" id="nameInput" name="nameInput" class="w-full p-2 border rounded-md" />
        </div>
        <div class="mb-4">
            <label for="roleInput">Role:</label>
            <input type="text" id="roleInput" name="roleInput" class="w-full p-2 border rounded-md" />
        </div>
        <div class="mb-4">
            <label for="salaryInput">Salary:</label>
            <input type="text" id="salaryInput" name="salaryInput" class="w-full p-2 border rounded-md" />
        </div>
 
        <div class="flex justify-end">
            <button class="bg-blue-500 text-white px-4 py-2 rounded-md" onclick="closeEditModal()">Close</button>
            <button class="bg-green-500 text-white px-4 py-2 rounded-md ml-2" onclick="saveChanges()">Save changes</button>
        </div>
    </div>
</div>

<div id="archiveModal" class="modal">
    <div class="modal-content text-right">
        <p class="mt-10 font-semibold">Are you sure you want to archive this user?</p>
            <button id="cancelArchive" class="bg-transparent hover:bg-blue-500 text-blue-500 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded mt-10">Cancel</button>
            <button id="confirmArchive" class="bg-red-400 hover:bg-red-500 hover:text-white text-gray-200 font-bold py-2 px-6 rounded mt-10">Archive</button>
    </div>
</div>

<div id="unarchiveModal" class="modal">
    <div class="modal-content text-right">
        <p class="mt-10 font-semibold">Are you sure you want to unarchive this user?</p>
        <button id="cancelUnarchive" class="bg-transparent hover:bg-blue-500 text-blue-500 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded mt-10" onclick="closeUnarchiveModal()">Cancel</button>
        <button id="confirmUnarchive" class="bg-green-500 hover:bg-green-400 hover:text-white text-gray-200 font-bold py-2 px-6 rounded mt-10" onclick="unarchiveUser()">Unarchive</button>
    </div>
</div>

<div data-dial-init class="fixed right-6 bottom-6 group">
    <div id="speed-dial-menu-square" class="flex flex-col items-center hidden mb-4 space-y-2">
        <!-- Share button -->
        <div class="flex items-center">
            <button type="button" data-tooltip-target="tooltip-share" data-tooltip-placement="left" class="flex justify-center items-center w-[64px] h-[64px] text-gray-800 bg-white-500 bg-opacity-25 dark:hover:text-white dark:text-gray-400 relative">
                <svg class="w-8 h-8" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                <path d="M15.9915 1.035C16.6394 0.661105 17.3793 0.47641 18.1269 0.501895C18.8746 0.527381 19.6001 0.762026 20.2211 1.17918C20.8421 1.59633 21.3337 2.17927 21.64 2.86179C21.9463 3.54431 22.0551 4.29905 21.9539 5.04028C21.8528 5.78151 21.5459 6.47953 21.0679 7.05506C20.59 7.63058 19.9602 8.06054 19.2502 8.2961C18.5401 8.53166 17.7783 8.56338 17.0511 8.38766C16.3239 8.21193 15.6606 7.83581 15.1365 7.302L8.85647 10.928C9.05122 11.6294 9.05122 12.3706 8.85647 13.072L15.1365 16.698C15.8193 16.0055 16.731 15.5854 17.7011 15.5161C18.6711 15.4469 19.6332 15.7332 20.4075 16.3217C21.1818 16.9101 21.7154 17.7604 21.9084 18.7136C22.1015 19.6668 21.9408 20.6576 21.4565 21.501C20.9705 22.3458 20.1929 22.9841 19.2696 23.2961C18.3463 23.6081 17.3408 23.5723 16.4421 23.1953C15.5434 22.8184 14.8131 22.1263 14.3886 21.249C13.9641 20.3718 13.8744 19.3697 14.1365 18.431L7.85647 14.804C7.29972 15.371 6.58679 15.7594 5.80852 15.9197C5.03024 16.08 4.22185 16.005 3.48635 15.7043C2.75084 15.4035 2.12151 14.8906 1.67854 14.231C1.23558 13.5713 0.999023 12.7946 0.999023 12C0.999023 11.2054 1.23558 10.4288 1.67854 9.76905C2.12151 9.10936 2.75084 8.59646 3.48635 8.29571C4.22185 7.99497 5.03024 7.91998 5.80852 8.08031C6.58679 8.24065 7.29972 8.62904 7.85647 9.196L14.1365 5.57C13.8995 4.7154 13.9531 3.80628 14.2888 2.98544C14.6246 2.1646 15.2235 1.47853 15.9915 1.035ZM19.7235 3.5C19.5931 3.27071 19.4187 3.06947 19.2102 2.90787C19.0018 2.74627 18.7634 2.62749 18.5089 2.55838C18.2543 2.48928 17.9886 2.4712 17.7271 2.5052C17.4655 2.53919 17.2132 2.62459 16.9848 2.75648C16.7564 2.88836 16.5563 3.06412 16.3961 3.27364C16.2359 3.48317 16.1187 3.72231 16.0513 3.97731C15.9839 4.23231 15.9675 4.49812 16.0033 4.75945C16.039 5.02078 16.1261 5.27246 16.2595 5.5C16.5266 5.95562 16.963 6.28709 17.4736 6.42208C17.9842 6.55707 18.5275 6.48463 18.9849 6.22055C19.4422 5.95648 19.7766 5.52222 19.915 5.01253C20.0533 4.50285 19.9845 3.95912 19.7235 3.5ZM3.07147 12.527C3.15253 12.8219 3.30009 13.0943 3.50282 13.3234C3.70555 13.5524 3.95805 13.7319 4.24095 13.8482C4.52386 13.9644 4.82963 14.0143 5.13482 13.994C5.44 13.9737 5.73647 13.8837 6.00147 13.731C6.32501 13.544 6.58968 13.2701 6.76548 12.9403C6.94129 12.6106 7.02119 12.2382 6.99614 11.8653C6.97108 11.4925 6.84207 11.1341 6.62373 10.8309C6.40538 10.5276 6.10645 10.2916 5.7608 10.1495C5.41516 10.0075 5.03663 9.96514 4.66815 10.0273C4.29966 10.0894 3.95594 10.2535 3.67597 10.501C3.396 10.7485 3.19097 11.0695 3.08413 11.4276C2.97728 11.7857 2.9729 12.1666 3.07147 12.527ZM18.9915 17.769C18.7639 17.6356 18.5123 17.5485 18.2509 17.5128C17.9896 17.4771 17.7238 17.4934 17.4688 17.5608C17.2138 17.6282 16.9746 17.7454 16.7651 17.9056C16.5556 18.0658 16.3798 18.2659 16.2479 18.4943C16.1161 18.7228 16.0307 18.975 15.9967 19.2366C15.9627 19.4981 15.9807 19.7638 16.0499 20.0184C16.119 20.2729 16.2377 20.5113 16.3993 20.7198C16.5609 20.9282 16.7622 21.1026 16.9915 21.233C17.4506 21.494 17.9943 21.5629 18.504 21.4245C19.0137 21.2861 19.4479 20.9518 19.712 20.4944C19.9761 20.037 20.0485 19.4938 19.9135 18.9832C19.7786 18.4726 19.4471 18.0361 18.9915 17.769Z" fill="black"/>
                </svg>
                <span class="sr-only">Share</span>
                <span class="button-name absolute right-full top-1/2 transform -translate-y-1/2 mr-2">Share</span>
            </button>
        </div>
        <div id="tooltip-share" role="tooltip" class="absolute z-10 invisible inline-block w-auto px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
            Share
            <div class="tooltip-arrow" data-popper-arrow></div>
        </div>


        <button type="button" data-tooltip-target="tooltip-share" data-tooltip-placement="left" class="flex justify-center items-center w-[64px] h-[64px] text-gray-800 bg-white-500 bg-opacity-25 dark:hover:text-white dark:text-gray-400 relative">
            <svg class="w-8 h-8" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
            <path d="M17.0001 7.84597H7.00015V4.61597H17.0001V7.84597ZM17.6151 12.116C17.8985 12.116 18.1361 12.02 18.3281 11.828C18.5201 11.636 18.6158 11.3983 18.6151 11.115C18.6151 10.8316 18.5195 10.5943 18.3281 10.403C18.1368 10.2116 17.8991 10.1156 17.6151 10.115C17.3318 10.115 17.0945 10.211 16.9031 10.403C16.7118 10.595 16.6158 10.8323 16.6151 11.115C16.6151 11.3983 16.7111 11.636 16.9031 11.828C17.0951 12.02 17.3325 12.1156 17.6151 12.115M16.0001 19V14.462H8.00015V19H16.0001ZM17.0001 20H7.00015V16H3.57715V10.615C3.57715 10.0483 3.76948 9.5733 4.15415 9.18997C4.53882 8.80663 5.01315 8.61497 5.57715 8.61497H18.4231C18.9898 8.61497 19.4648 8.80663 19.8481 9.18997C20.2315 9.5733 20.4231 10.0483 20.4231 10.615V16H17.0001V20Z" fill="black"/>
            </svg>
            <span class="sr-only">Print</span>
            <span class="button-name absolute right-full top-1/2 transform -translate-y-1/2 mr-2">Print</span>
        </button>
        <div id="tooltip-print" role="tooltip" class="absolute z-10 invisible inline-block w-auto px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700 left-0">
            Print
            <div class="tooltip-arrow" data-popper-arrow></div>
        </div>
        

        <button type="button" data-tooltip-target="tooltip-share" data-tooltip-placement="left" class="flex justify-center items-center w-[64px] h-[64px] text-gray-800 bg-white-500 bg-opacity-25 dark:hover:text-white dark:text-gray-400 relative">
            <svg class="w-8 h-8" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C11.7348 2 11.4804 2.10536 11.2929 2.29289C11.1054 2.48043 11 2.73478 11 3V5H5C4.46957 5 3.96086 5.21071 3.58579 5.58579C3.21071 5.96086 3 6.46957 3 7V20C3 20.5304 3.21071 21.0391 3.58579 21.4142C3.96086 21.7893 4.46957 22 5 22H19C19.5304 22 20.0391 21.7893 20.4142 21.4142C20.7893 21.0391 21 20.5304 21 20V7C21 6.46957 20.7893 5.96086 20.4142 5.58579C20.0391 5.21071 19.5304 5 19 5H13V3C13 2.73478 12.8946 2.48043 12.7071 2.29289C12.5196 2.10536 12.2652 2 12 2ZM13 5V13.828L14.828 12C15.0155 11.8124 15.2699 11.7069 15.5351 11.7068C15.8004 11.7067 16.0549 11.812 16.2425 11.9995C16.4301 12.187 16.5356 12.4414 16.5357 12.7066C16.5358 12.9719 16.4305 13.2264 16.243 13.414L12.883 16.773C12.6486 17.0072 12.3308 17.1387 11.9995 17.1387C11.6682 17.1387 11.3504 17.0072 11.116 16.773L7.757 13.414C7.66416 13.3211 7.59052 13.2108 7.5403 13.0894C7.49008 12.9681 7.46425 12.838 7.4643 12.7066C7.46434 12.5753 7.49026 12.4452 7.54057 12.3239C7.59088 12.2026 7.66459 12.0923 7.7575 11.9995C7.85041 11.9067 7.9607 11.833 8.08207 11.7828C8.20343 11.7326 8.3335 11.7068 8.46485 11.7068C8.5962 11.7068 8.72626 11.7328 8.84759 11.7831C8.96892 11.8334 9.07916 11.9071 9.172 12L11 13.828V5H13Z" fill="black"/>
            </svg>
            <span class="sr-only">Download</span>
            <span class="button-name absolute right-full top-1/2 transform -translate-y-1/2 mr-2">Download</span>
        </button>
        <div id="tooltip-download" role="tooltip" class="absolute z-10 invisible inline-block w-auto px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700 left-0">
            Download
            <div class="tooltip-arrow" data-popper-arrow></div>
        </div>

    </div>

    <!-- Button toggling the menu -->
    <button type="button" data-dial-toggle="speed-dial-menu-square" aria-controls="speed-dial-menu-default" aria-expanded="false" class="flex items-center justify-center text-white bg-blue-700 rounded-full w-14 h-14 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 focus:outline-none dark:focus:ring-blue-800">
        <svg class="w-4 h-4 transition-transform group-hover:rotate-45" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
        </svg>
        <span class="sr-only">Open actions menu</span>
    </button>
</div>



<script>
// JavaScript to toggle the visibility of the speed dial menu
document.addEventListener('DOMContentLoaded', function () {
    const toggleButton = document.querySelector('[data-dial-toggle]');
    const menu = document.querySelector('#speed-dial-menu-square');

    toggleButton.addEventListener('click', function () {
        menu.classList.toggle('hidden');
        const expanded = toggleButton.getAttribute('aria-expanded') === 'true' || false;
        toggleButton.setAttribute('aria-expanded', !expanded);
    });
});
</script>
{% endblock content %}
